{% extends 'accounts/dashboard.html' %}

{% block title %}My Courses - Amstack{% endblock %}

{% block dashboard_main %}
<div class="bg-white rounded-xl border border-gray-200 p-6 mb-6">
	<div class="flex items-center justify-between mb-4">
		<div>
			<h1 class="text-xl font-bold text-gray-900">My Courses</h1>
			<p class="text-gray-600 text-sm">All courses you are enrolled in.</p>
		</div>
		<a href="{% url 'courses:course_list' %}" class="text-indigo-600 text-sm font-semibold hover:text-indigo-700">Browse courses</a>
	</div>

	{% if enrollments %}
	<div class="divide-y divide-gray-100">
		{% for enrollment in enrollments %}
		<div class="py-4 flex items-center justify-between">
			<div>
				<p class="font-semibold text-gray-900">{{ enrollment.course.title }}</p>
				<p class="text-sm text-gray-500">Enrolled {{ enrollment.enrolled_at|date:"Y-m-d" }}</p>
			</div>
			{% with lesson=enrollment.get_continue_lesson %}
			<a href="{% if lesson %}{{ lesson.get_absolute_url }}{% else %}{{ enrollment.course.get_absolute_url }}{% endif %}" class="inline-flex items-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-full hover:bg-indigo-700 transition">Continue</a>
			{% endwith %}
		</div>
		{% endfor %}
	</div>
	{% else %}
	<div class="text-center py-10">
		<p class="text-gray-600">You have not enrolled in any courses yet.</p>
		<a href="{% url 'courses:course_list' %}" class="mt-4 inline-flex items-center px-5 py-2 bg-indigo-600 text-white rounded-full text-sm font-semibold hover:bg-indigo-700 transition">Browse courses</a>
	</div>
	{% endif %}
</div>
{% endblock %}
